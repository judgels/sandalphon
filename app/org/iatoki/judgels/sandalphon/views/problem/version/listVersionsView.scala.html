@(versions: List[org.iatoki.judgels.commons.GitCommit], problemId: Long, isAllowedToRestoreVersionHistory: Boolean)

@import org.iatoki.judgels.commons.JudgelsUtils
@import org.iatoki.judgels.sandalphon.JidCacheService
@import play.i18n.Messages
@import org.iatoki.judgels.sandalphon.controllers.routes

@for(i <- 0 until versions.size) {
    @defining(versions.get(i)) { version =>
        <div class="panel panel-default">
            <div class="panel-heading">
                <span class="panel-title">@JidCacheService.getInstance().getDisplayName(version.getUserJid)<small> @@ <time class="display-time" datetime="@JudgelsUtils.formatISOUTCDateTime(version.getTime.getTime)">@JudgelsUtils.formatDetailedDateTime(version.getTime.getTime)</time></small></span>
                <span class="panel-title pull-right">@if(i > 0 && isAllowedToRestoreVersionHistory){<a href="@routes.ProblemVersionController.restoreVersionHistory(problemId, version.getHash)" type="button" class="btn btn-danger btn-xs">@Messages.get("problem.version.restore")</a>}</span>
            </div>
            <div class="panel-body content-text">
                <span class="pull-right"><small>@version.getHash.substring(0, 7)</small></span>
                @Html(JudgelsUtils.escapeHtmlString(version.getDescription))
            </div>
        </div>
    }
}